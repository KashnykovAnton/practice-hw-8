{"version":3,"sources":["gallery.js","index.js"],"names":["galleryItems","preview","original","description","galleryRef","document","querySelector","lightboxContainer","lightboxOverlay","lightboxImg","closeModalBtn","createItemEl","acc","createItemsList","reduce","onGalleryClick","e","preventDefault","target","nodeName","classList","add","src","dataset","source","window","addEventListener","onEscKeyPress","onArrowRightPress","onArrowLeftPress","onModalClose","remove","removeEventListener","onOverlayClick","code","insertAdjacentHTML","newArr","index","indexOf","console","log","length","map","item","push"],"mappings":";AAAO,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,kBAAA,EAAA,MAAMA,EAAe,CAC1B,CACEC,QACE,uFACFC,SACE,uFACFC,YAAa,mBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,6BAEf,CACEF,QACE,wEACFC,SACE,wEACFC,YAAa,qBAEf,CACEF,QACE,0EACFC,SACE,0EACFC,YAAa,iBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,oBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,yBAEf,CACEF,QACE,2EACFC,SACE,2EACFC,YAAa,yBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,oBAEf,CACEF,QACE,6EACFC,SACE,6EACFC,YAAa,yBA9DV,QAAA,aAAA;;AC+GP,aA/GA,IAAA,EAAA,QAAA,aAEA,MAAMC,EAAaC,SAASC,cAAc,eACpCC,EAAoBF,SAASC,cAAc,aAC3CE,EAAkBH,SAASC,cAAc,sBACzCG,EAAcJ,SAASC,cAAc,oBACrCI,EAAgBL,SAASC,cAAc,kCAEvCK,EAAe,CAACC,GAAOX,QAAAA,EAASC,SAAAA,EAAUC,YAAAA,KAAkBS,mEAAuEV,yCAAgDD,mBAAyBC,WAAkBC,eAC9NU,EAAkBb,EAAac,aAAAA,OAAOH,EAAc,IAM1D,SAASI,EAAeC,GACtBA,EAAEC,iBACwB,QAAtBD,EAAEE,OAAOC,WACbZ,EAAkBa,UAAUC,IAAI,WAChCZ,EAAYa,IAAMN,EAAEE,OAAOK,QAAQC,OAEnCC,OAAOC,iBAAiB,UAAWC,GACnCF,OAAOC,iBAAiB,UAAWE,GACnCH,OAAOC,iBAAiB,UAAWG,IAOrC,SAASC,IAEPvB,EAAkBa,UAAUW,OAAO,WACnCtB,EAAYa,IAAM,GAClBG,OAAOO,oBAAoB,UAAWL,GACtCF,OAAOO,oBAAoB,UAAWJ,GACtCH,OAAOO,oBAAoB,UAAWH,GAMxC,SAASI,IACPH,IAMF,SAASH,EAAcX,GACN,WAAXA,EAAEkB,MACJJ,IAzCJ1B,EAAW+B,mBAAmB,YAAatB,GAG3CT,EAAWsB,iBAAiB,QAASX,GAerCL,EAAcgB,iBAAiB,QAASI,GAYxCtB,EAAgBkB,iBAAiB,QAASO,GAgB1C,MAAMG,EAAS,GAMf,SAASR,EAAkBZ,GACnBqB,MAAAA,EAAQD,EAAOE,QAAQ7B,EAAYa,KAC1B,eAAXN,EAAEkB,OACezB,EAAYa,IAAjB,IAAVe,EAAiCD,EAAOC,EAAQ,GAC3BD,EAAO,GAChCG,QAAQC,IAAIH,GACZE,QAAQC,IAAK,iBAMjB,SAASX,EAAiBb,GAClBqB,MAAAA,EAAQD,EAAOE,QAAQ7B,EAAYa,KAC1B,cAAXN,EAAEkB,OACezB,EAAYa,IAAjB,IAAVe,EAAiCD,EAAOC,EAAQ,GAC3BD,EAAOA,EAAOK,OAAO,GAC9CF,QAAQC,IAAIH,GACZE,QAAQC,IAAI,gBAvBhBxC,EAAa0C,aAAAA,IAAKC,GAASP,EAAOQ,KAAKD,EAAKzC","file":"src.7637435a.js","sourceRoot":"../src","sourcesContent":["export const galleryItems = [\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg',\n    description: 'Hokkaido Flower',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg',\n    description: 'Container Haulage Freight',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg',\n    description: 'Aerial Beach View',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg',\n    description: 'Flower Blooms',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg',\n    description: 'Alpine Mountains',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg',\n    description: 'Mountain Lake Sailing',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg',\n    description: 'Alpine Spring Meadows',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg',\n    description: 'Nature Landscape',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg',\n    description: 'Lighthouse Coast Sea',\n  },\n];","import { galleryItems } from \"./gallery\";\n\nconst galleryRef = document.querySelector('.js-gallery');\nconst lightboxContainer = document.querySelector('.lightbox');\nconst lightboxOverlay = document.querySelector('.lightbox__overlay');\nconst lightboxImg = document.querySelector('.lightbox__image');\nconst closeModalBtn = document.querySelector('[data-action=\"close-lightbox\"]');\n\nconst createItemEl = (acc, { preview, original, description }) => acc + `<li class = 'gallery__item'><a class = 'gallery__link' href = ${original}><img class = 'gallery__image' src = ${preview} data-source = ${original} alt = ${description}/></a></li>`;\nconst createItemsList = galleryItems.reduce(createItemEl, '');\ngalleryRef.insertAdjacentHTML('beforeend', createItemsList);\n\n\ngalleryRef.addEventListener('click', onGalleryClick);\n\nfunction onGalleryClick(e) {\n  e.preventDefault();\n  if (e.target.nodeName !== 'IMG') { return };\n  lightboxContainer.classList.add('is-open');\n  lightboxImg.src = e.target.dataset.source;\n  // console.log(e.target.dataset.source)\n  window.addEventListener('keydown', onEscKeyPress);\n  window.addEventListener('keydown', onArrowRightPress);\n  window.addEventListener('keydown', onArrowLeftPress);\n\n}\n\n\ncloseModalBtn.addEventListener('click', onModalClose);\n\nfunction onModalClose() {\n  // if (e.target.nodeName === 'IMG') { return };\n  lightboxContainer.classList.remove('is-open');\n  lightboxImg.src = '';\n  window.removeEventListener('keydown', onEscKeyPress);\n  window.removeEventListener('keydown', onArrowRightPress);\n  window.removeEventListener('keydown', onArrowLeftPress);\n}\n\n\nlightboxOverlay.addEventListener('click', onOverlayClick);\n\nfunction onOverlayClick() {\n  onModalClose();\n};\n\n\n// window.addEventListener('keydown', onEscKeyPress);\n\nfunction onEscKeyPress(e) {\n  if (e.code === 'Escape') {\n    onModalClose()\n    // console.log('hello')\n  };\n};\n\nconst newArr = [];\ngalleryItems.map((item) => newArr.push(item.original));\n\n\n// window.addEventListener('keydown', onArrowRightPress);\n\nfunction onArrowRightPress(e) {\n  const index = newArr.indexOf(lightboxImg.src);\n  if (e.code === 'ArrowRight') {\n    if (index !== 8) { lightboxImg.src = newArr[index + 1] }\n    else { lightboxImg.src = newArr[0] }\n    console.log(index)\n    console.log(`нажал вправо`);\n  }\n};\n\n// window.addEventListener('keydown', onArrowLeftPress);\n\nfunction onArrowLeftPress(e) {\n  const index = newArr.indexOf(lightboxImg.src);\n  if (e.code === 'ArrowLeft') {\n    if (index !== 0) { lightboxImg.src = newArr[index - 1] }\n    else { lightboxImg.src = newArr[newArr.length-1] }\n    console.log(index)\n    console.log('нажал влево');\n  }\n};\n\n\n\n\n// function keyboardManipulation({ key }) {\n//   switch (key) {\n//     case gallery.length - 1 > activeIndex && \"ArrowRight\":\n//       activeIndex += 1;\n//       refs.modalImg.src = gallery[activeIndex].original;\n//       break;\n//     case activeIndex > 0 && \"ArrowLeft\":\n//       activeIndex -= 1;\n//       refs.modalImg.src = gallery[activeIndex].original;\n//       break;\n//     case activeIndex === gallery.length - 1 && \"ArrowRight\":\n//       activeIndex = 0;\n//       refs.modalImg.src = gallery[activeIndex].original;\n//       break;\n//     case activeIndex === 0 && \"ArrowLeft\":\n//       activeIndex = gallery.length - 1;\n//       refs.modalImg.src = gallery[activeIndex].original;\n//       break;\n//     case \"Escape\":\n//       closeModal();\n//       break;\n//     default:\n//       alert(\"что-то пошло не так\");\n//   }\n// }\n\n\n"]}